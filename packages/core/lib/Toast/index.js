"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ToastContainer = _interopRequireDefault(require("./ToastContainer"));

var _reactNativeRootSiblings = _interopRequireDefault(require("react-native-root-siblings"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const elements = [];

function notice(content, type, duration = 2, icon) {
  const addSibling = () => {
    let sibling = new _reactNativeRootSiblings.default(<_ToastContainer.default style={{
      top: 100 + elements.length * 30
    }} icon={icon} content={content} type={type} duration={duration} />);
    elements.push(sibling);
  };

  const destroySibling = () => {
    let lastSibling = elements.pop();
    lastSibling && lastSibling.destroy();
  };

  addSibling();
  setTimeout(() => {
    destroySibling();
  }, duration * 1000);
}

var _default = {
  info(content, duration, icon) {
    return notice(content, 'info', duration, icon);
  },

  success(content, duration, icon) {
    return notice(content, 'success', duration, icon);
  },

  warning(content, duration, icon) {
    return notice(content, 'warning', duration, icon);
  },

  error(content, duration, icon) {
    return notice(content, 'error', duration, icon);
  }

};
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Ub2FzdC9pbmRleC50c3giXSwibmFtZXMiOlsiZWxlbWVudHMiLCJub3RpY2UiLCJjb250ZW50IiwidHlwZSIsImR1cmF0aW9uIiwiaWNvbiIsImFkZFNpYmxpbmciLCJzaWJsaW5nIiwiUm9vdFNpYmxpbmdzIiwidG9wIiwibGVuZ3RoIiwicHVzaCIsImRlc3Ryb3lTaWJsaW5nIiwibGFzdFNpYmxpbmciLCJwb3AiLCJkZXN0cm95Iiwic2V0VGltZW91dCIsImluZm8iLCJzdWNjZXNzIiwid2FybmluZyIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxRQUFhLEdBQUcsRUFBdEI7O0FBU0EsU0FBU0MsTUFBVCxDQUFnQkMsT0FBaEIsRUFBaUNDLElBQWpDLEVBQWlGQyxRQUFRLEdBQUcsQ0FBNUYsRUFBK0ZDLElBQS9GLEVBQWlIO0FBQy9HLFFBQU1DLFVBQVUsR0FBRyxNQUFNO0FBQ3ZCLFFBQUlDLE9BQU8sR0FBRyxJQUFJQyxnQ0FBSixDQUVWLHlCQUNFLE1BQU0sQ0FBQztBQUFFQyxNQUFBQSxHQUFHLEVBQUUsTUFBTVQsUUFBUSxDQUFDVSxNQUFULEdBQWtCO0FBQS9CLEtBQUQsQ0FEUixDQUVFLEtBQUssQ0FBQ0wsSUFBRCxDQUZQLENBR0UsUUFBUSxDQUFDSCxPQUFELENBSFYsQ0FJRSxLQUFLLENBQUNDLElBQUQsQ0FKUCxDQUtFLFNBQVMsQ0FBQ0MsUUFBRCxDQUxYLEdBRlUsQ0FBZDtBQVdBSixJQUFBQSxRQUFRLENBQUNXLElBQVQsQ0FBY0osT0FBZDtBQUNELEdBYkQ7O0FBY0EsUUFBTUssY0FBYyxHQUFHLE1BQU07QUFDM0IsUUFBSUMsV0FBVyxHQUFHYixRQUFRLENBQUNjLEdBQVQsRUFBbEI7QUFDQUQsSUFBQUEsV0FBVyxJQUFJQSxXQUFXLENBQUNFLE9BQVosRUFBZjtBQUNELEdBSEQ7O0FBS0FULEVBQUFBLFVBQVU7QUFFVlUsRUFBQUEsVUFBVSxDQUFDLE1BQU07QUFDZkosSUFBQUEsY0FBYztBQUNmLEdBRlMsRUFFUFIsUUFBUSxHQUFHLElBRkosQ0FBVjtBQUdEOztlQUVjO0FBQ2JhLEVBQUFBLElBQUksQ0FBQ2YsT0FBRCxFQUFrQkUsUUFBbEIsRUFBcUNDLElBQXJDLEVBQXVEO0FBQ3pELFdBQU9KLE1BQU0sQ0FBQ0MsT0FBRCxFQUFVLE1BQVYsRUFBa0JFLFFBQWxCLEVBQTRCQyxJQUE1QixDQUFiO0FBQ0QsR0FIWTs7QUFJYmEsRUFBQUEsT0FBTyxDQUFDaEIsT0FBRCxFQUFrQkUsUUFBbEIsRUFBcUNDLElBQXJDLEVBQXVEO0FBQzVELFdBQU9KLE1BQU0sQ0FBQ0MsT0FBRCxFQUFVLFNBQVYsRUFBcUJFLFFBQXJCLEVBQStCQyxJQUEvQixDQUFiO0FBQ0QsR0FOWTs7QUFPYmMsRUFBQUEsT0FBTyxDQUFDakIsT0FBRCxFQUFrQkUsUUFBbEIsRUFBcUNDLElBQXJDLEVBQXVEO0FBQzVELFdBQU9KLE1BQU0sQ0FBQ0MsT0FBRCxFQUFVLFNBQVYsRUFBcUJFLFFBQXJCLEVBQStCQyxJQUEvQixDQUFiO0FBQ0QsR0FUWTs7QUFVYmUsRUFBQUEsS0FBSyxDQUFDbEIsT0FBRCxFQUFrQkUsUUFBbEIsRUFBcUNDLElBQXJDLEVBQXVEO0FBQzFELFdBQU9KLE1BQU0sQ0FBQ0MsT0FBRCxFQUFVLE9BQVYsRUFBbUJFLFFBQW5CLEVBQTZCQyxJQUE3QixDQUFiO0FBQ0Q7O0FBWlksQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVG9hc3RDb250YWluZXIgZnJvbSAnLi9Ub2FzdENvbnRhaW5lcic7XG5pbXBvcnQgUm9vdFNpYmxpbmdzIGZyb20gJ3JlYWN0LW5hdGl2ZS1yb290LXNpYmxpbmdzJztcbmltcG9ydCB7IEljb25zTmFtZSB9IGZyb20gJy4uL0ljb24nO1xuXG5jb25zdCBlbGVtZW50czogYW55ID0gW107XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9hc3RQcm9wcyB7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIGljb24/OiBJY29uc05hbWU7XG59XG5cbmZ1bmN0aW9uIG5vdGljZShjb250ZW50OiBzdHJpbmcsIHR5cGU6ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdlcnJvcicsIGR1cmF0aW9uID0gMiwgaWNvbj86IEljb25zTmFtZSkge1xuICBjb25zdCBhZGRTaWJsaW5nID0gKCkgPT4ge1xuICAgIGxldCBzaWJsaW5nID0gbmV3IFJvb3RTaWJsaW5ncyhcbiAgICAgIChcbiAgICAgICAgPFRvYXN0Q29udGFpbmVyXG4gICAgICAgICAgc3R5bGU9e3sgdG9wOiAxMDAgKyBlbGVtZW50cy5sZW5ndGggKiAzMCB9fVxuICAgICAgICAgIGljb249e2ljb259XG4gICAgICAgICAgY29udGVudD17Y29udGVudH1cbiAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgIGR1cmF0aW9uPXtkdXJhdGlvbn1cbiAgICAgICAgLz5cbiAgICAgICksXG4gICAgKTtcbiAgICBlbGVtZW50cy5wdXNoKHNpYmxpbmcpO1xuICB9O1xuICBjb25zdCBkZXN0cm95U2libGluZyA9ICgpID0+IHtcbiAgICBsZXQgbGFzdFNpYmxpbmcgPSBlbGVtZW50cy5wb3AoKTtcbiAgICBsYXN0U2libGluZyAmJiBsYXN0U2libGluZy5kZXN0cm95KCk7XG4gIH07XG5cbiAgYWRkU2libGluZygpO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGRlc3Ryb3lTaWJsaW5nKCk7XG4gIH0sIGR1cmF0aW9uICogMTAwMCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5mbyhjb250ZW50OiBzdHJpbmcsIGR1cmF0aW9uPzogbnVtYmVyLCBpY29uPzogSWNvbnNOYW1lKSB7XG4gICAgcmV0dXJuIG5vdGljZShjb250ZW50LCAnaW5mbycsIGR1cmF0aW9uLCBpY29uKTtcbiAgfSxcbiAgc3VjY2Vzcyhjb250ZW50OiBzdHJpbmcsIGR1cmF0aW9uPzogbnVtYmVyLCBpY29uPzogSWNvbnNOYW1lKSB7XG4gICAgcmV0dXJuIG5vdGljZShjb250ZW50LCAnc3VjY2VzcycsIGR1cmF0aW9uLCBpY29uKTtcbiAgfSxcbiAgd2FybmluZyhjb250ZW50OiBzdHJpbmcsIGR1cmF0aW9uPzogbnVtYmVyLCBpY29uPzogSWNvbnNOYW1lKSB7XG4gICAgcmV0dXJuIG5vdGljZShjb250ZW50LCAnd2FybmluZycsIGR1cmF0aW9uLCBpY29uKTtcbiAgfSxcbiAgZXJyb3IoY29udGVudDogc3RyaW5nLCBkdXJhdGlvbj86IG51bWJlciwgaWNvbj86IEljb25zTmFtZSkge1xuICAgIHJldHVybiBub3RpY2UoY29udGVudCwgJ2Vycm9yJywgZHVyYXRpb24sIGljb24pO1xuICB9LFxufTtcbiJdfQ==